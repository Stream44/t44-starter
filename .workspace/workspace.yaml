extends:
  - 't44/workspace.yaml'
'#t44/structs/ProjectDeploymentConfig.v0':
  deployments:
    t44-starter-static-simple:
      web:
        sourceDir: resolve('${__dirname}/../static-simple')
        provider:
          capsule: 't44/caps/providers/bunny.net/ProjectDeployment.v0'
          config:
            ProjectSettings:
              name: t44-static-simple
              region: LA
    t44-starter-next-hono:
      api:
        sourceDir: resolve('${__dirname}/../next-hono')
        provider:
          capsule: 't44/caps/providers/vercel.com/ProjectDeployment.v0'
          config:
            ProjectSettings:
              name: t44-next-hono-api
              ssoProtection: null
            /vercel.json:
              framework: hono
              buildCommand: turbo run build --filter=api
              outputDirectory: apps/api/dist
      web:
        depends:
          - api
        sourceDir: resolve('${__dirname}/../next-hono')
        provider:
          capsule: 't44/caps/providers/vercel.com/ProjectDeployment.v0'
          config:
            ENV:
              API_URL: jit(join('https://',pick('../.~o/workspace.foundation/WorkspaceEntityFacts/o/vercel.com/projects/t44-next-hono-api.json','latestDeployments[0].alias[0]')))
            ProjectSettings:
              name: t44-next-hono-web
              ssoProtection: null
            /vercel.json:
              framework: nextjs
              buildCommand: turbo run build --filter=web
              outputDirectory: apps/web/.next
'#t44/structs/WorkspaceProjectsConfig.v0':
  projects:
    static-simple:
      sourceDir: resolve('${__dirname}/../static-simple')
    next-hono:
      sourceDir: resolve('${__dirname}/../next-hono')
